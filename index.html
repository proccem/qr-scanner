
<!DOCTYPE html>
<html>
<head>
Â  <title>QR Scanner</title>
Â  <script src="https://unpkg.com/html5-qrcode"></script>
Â  <style>
Â Â Â  body { font-family: Arial; text-align: center; padding: 20px; }
Â Â Â  #reader { width: 300px; margin: auto; }
Â Â Â  #result { margin-top: 20px; font-size: 18px; }
Â  </style>
</head>
<body>
Â  <h2>Scan Guest QR Code</h2>
Â  <div id="reader"></div>
Â  <div id="result">Waiting for scan...</div>
Â  <button onclick="location.reload()">ğŸ”„ Scan Another</button>

Â  <script>
Â Â Â  const webAppUrl = "https://script.google.com/macros/s/AKfycbzvzvS2c_Pa456nl6opLp5k0ej0G3WiZENRCfo8c7uVIF9COhbrjHo4hHMuaxx5TiC0ng/exec";
Â Â Â  let hasScanned = false;

Â Â Â  function onScanSuccess(decodedText) {
Â Â Â Â Â  if (hasScanned) return;
Â Â Â Â Â  hasScanned = true;

Â Â Â Â Â  document.getElementById('result').innerText = `â³ Checking...`;

Â Â Â Â Â  fetch(webAppUrl, {
Â Â Â Â Â Â Â  method: 'POST',
Â Â Â Â Â Â Â  body: JSON.stringify({ guestDetails: decodedText }),
Â Â Â Â Â Â Â  headers: { 'Content-Type': 'application/json' }
Â Â Â Â Â  })
Â Â Â Â Â  .then(res => res.text())
Â Â Â Â Â  .then(data => {
Â Â Â Â Â Â Â  document.getElementById('result').innerText = data;
Â Â Â Â Â  })
Â Â Â Â Â  .catch(err => {
Â Â Â Â Â Â Â  document.getElementById('result').innerText = "âŒ Error: " + err;
Â Â Â Â Â Â Â  hasScanned = false;
Â Â Â Â Â  });
Â Â Â  }

Â Â Â  const html5QrCode = new Html5Qrcode("reader");
Â Â Â  html5QrCode.start({ facingMode: "environment" }, { fps: 10, qrbox: 250 }, onScanSuccess);
Â  </script>
</body>
</html>
